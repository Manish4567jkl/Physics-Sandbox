<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" type="image/svg+xml" 
  href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23f472b6"><path d="M12.378 1.602a.75.75 0 0 0-.756 0L3 6.632l9 5.25 9-5.25-8.622-5.03ZM21.75 7.93l-9 5.25v9l8.628-5.032a.75.75 0 0 0 .372-.648V7.93ZM11.25 22.18v-9l-9-5.25v8.57a.75.75 0 0 0 .372.648l8.628 5.033Z"/></svg>'>

<title>Explosion-Mode</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  html, body {
    margin: 0; padding: 0; overflow: hidden; height: 100%;
    font-family: 'Poppins', sans-serif;
    background: #f0f5ff; /* pastel background immediately */
  }
  #loader {
    position: fixed; inset: 0;
    background: #f0f5ff;
    z-index: 100;
    display: flex;
    justify-content: center;
    align-items: center;
    visibility: visible;
    opacity: 1;
  }
  canvas.loader-canvas { width: 100%; height: 100%; display: block; }
  canvas.explosion { position: absolute; inset: 0; display: block; }
</style>
</head>
<body>

<!-- Loader -->
<div id="loader">
  <canvas class="loader-canvas"></canvas>
</div>

<!-- Main Explosion Canvas -->
<canvas class="explosion w-screen h-screen block"></canvas>

<!-- Buttons & Info Panel -->
<div class="absolute top-4 right-4 z-50 max-w-xl flex flex-col space-y-3">

  <!-- Top Right Buttons -->
  <div class="flex space-x-3">
    <div class="p-2 transform skew-x-[-10deg] bg-rose-300 shadow-md border border-rose-400 rounded-md">
      <div class="transform skew-x-[10deg]">
        <button id="reset-button"
          class="text-xs font-bold text-white uppercase tracking-wide px-4 py-1 
                ">
          Reset Scene
        </button>
      </div>
    </div>

    <div class="p-2 transform skew-x-[-10deg] bg-blue-300 shadow-md border border-blue-400 rounded-md cursor-pointer select-none">
      <div class="transform skew-x-[10deg]">
        <button id="toggle-lighting"
          class="text-xs font-bold text-white uppercase tracking-wide px-4 py-1  
                 ">
          Toggle Lighting
        </button>
      </div>
    </div>
  </div>

  <!-- Info Panel -->
  <div class="p-3 transform skew-x-[-10deg] bg-rose-100 border border-rose-300 rounded-md shadow-inner text-rose-700 text-xs font-mono leading-relaxed select-none max-w-xs">
    <div class="transform skew-x-[10deg] space-y-1">
      <p><strong>Shift + Scroll</strong>: Increase explosion radius</p>
      <p><strong>Left Click</strong>: Bigger explosion (2 seconds cooldown)</p>
      <p><strong>Right Click</strong>: Smaller explosion</p>
    </div>
  </div>
</div>

<!-- Back Button Top-Left -->
<div class="absolute top-4 left-4 z-50 max-w-xl">
  <div class="p-2 transform skew-x-[-10deg] bg-green-300 shadow-md border border-green-400 rounded-md cursor-pointer select-none">
    <div class="transform skew-x-[10deg]">
      <button id="back-button"
        class="text-xs font-bold text-white uppercase tracking-wide px-4 py-1">
        Back
      </button>
    </div>
  </div>
</div>

<!-- Matter.js Loader Script -->
<script type="module" src="../utils/loader.js"></script>

<!-- Main Explosion Script -->
<script type="module" src="../modes/explosion.js"></script>

<script>
  // Back button functionality
  document.getElementById("back-button").addEventListener("click", () => {
    window.location.href = "/src/html/mode-selection.html"; 
  });
</script>

</body>
</html>
